# Triggering new build for Gravatar fix verification.
# Date: 2026-02-19T15:55:00-05:00

env:
  # Secrets (Configured in Google Cloud Secret Manager via Firebase Console)
  - variable: FIREBASE_PRIVATE_KEY
    secret: FIREBASE_PRIVATE_KEY
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_CLIENT_EMAIL
    secret: FIREBASE_CLIENT_EMAIL
    availability:
      - BUILD
      - RUNTIME
  
  # Frontend Firebase Config (Essential for Client-Side SDK)
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    value: AIzaSyCvF7pVHLIYnElsXtKZJRyyxfyHjVdXzec
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: estrumetalonline.firebaseapp.com
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: estrumetalonline
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: estrumetalonline.firebasestorage.app
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "360669507398"
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: "1:360669507398:web:b779339bd0ec8264fc3f47"

  # Standard Environment Variables
  - variable: DRIVE_PDF_FOLDER_ID
    value: 1oFU-8i4B3bxbsrShinJynVgJzXtVJPH_
  - variable: DRIVE_EXCEL_FOLDER_ID
    value: 1EsH1s2AMhlzqzFdK8EnZFeziw__CGcg7
  - variable: DRIVE_CSV_FOLDER_ID
    value: 1R_ZxP2uhm9aiOF70NhEEpigwrDQsavtW
  - variable: RESEND_API_KEY
    secret: RESEND_API_KEY
    availability:
      - BUILD
      - RUNTIME
  
  # Gravatar Integration (OAuth)
  - variable: GRAVATAR_CLIENT_ID
    secret: GRAVATAR_CLIENT_ID
    availability:
      - BUILD
      - RUNTIME
  - variable: GRAVATAR_CLIENT_SECRET
    secret: GRAVATAR_CLIENT_SECRET
    availability:
      - BUILD
      - RUNTIME
  # Redirect URI explicito para OAuth - debe coincidir con lo registrado en gravatar.com/developers
  # Usamos el dominio custom para que las cookies se establezcan en el dominio correcto
  - variable: GRAVATAR_REDIRECT_URI
    value: https://mail.disestrumetal.online/api/auth/gravatar/callback
